/* ============================================================================
   Asset Uploader — Modal Body
   ============================================================================ */

.app-asset-uploader-body {
    display        : flex;
    flex-direction : column;
    align-items    : center;
    gap            : 15px;
    margin         : 15px 10px;
    padding        : 10px;
    /* Let the body grow but stop before it escapes the viewport.
       The modal content wrapper handles the actual scroll. */
    min-height     : 0;
}

/* ============================================================================
   Modal scroll container
   Give the inner content a max-height so it never overflows the viewport,
   and let it scroll vertically when many assets push it past that height.
   ============================================================================ */

.smliser-admin-modal.app-asset-uploader .smliser-admin-modal_content {
    display        : flex;
    flex-direction : column;
    max-height     : 90vh;
    overflow-y     : auto;
    /* Smooth momentum scrolling on iOS */
    -webkit-overflow-scrolling : touch;
}

/* ============================================================================
   Single-image upload area
   ============================================================================ */

.app-asset-uploader-body_uploaded-asset {
    width : 80%;
}

.app-asset-uploader-body_uploaded-asset:not( .has-image ) .app-asset-uploader-uploaded-image {
    display : none;
}

.app-asset-uploader-uploaded-image {
    position      : relative;
    width         : 100%;
    height        : 100%;
    text-align    : center;
    margin-bottom : 10px;
    border        : 1px solid #dcdcde;
    padding       : 5px;
}

.app-asset-uploader-uploaded-image img {
    height    : 150px;
    max-width : 100%;
}

.app-asset-uploader-uploaded-image span.clear-uploaded {
    position     : absolute;
    right        : 0;
    margin-right : 15px;
    cursor       : pointer;
}

.app-asset-uploader-body_uploaded-asset button#upload-image {
    opacity : 0;
    float   : right;
}

.app-asset-uploader-body_uploaded-asset.has-image button#upload-image {
    opacity : 1;
}

/* ============================================================================
   Placeholder (shown when no image is staged)
   ============================================================================ */

.app-asset-uploader-placeholder {
    position        : relative;
    height          : 100px;
    border          : dotted 3px #dcdcde;
    border-radius   : 8px;
    margin-bottom   : 10px;
    display         : flex;
    flex-direction  : column;
    align-items     : center;
    justify-content : center;
    gap             : 6px;
}

.app-asset-uploader-body_uploaded-asset.has-image .app-asset-uploader-placeholder {
    display : none;
}

.app-asset-uploader-placeholder span.dashicons {
    font-size : 35px;
    color     : #333333;
}

.app-asset-uploader-placeholder_hint {
    margin      : 0;
    font-size   : 12px;
    color       : #999999;
    line-height : 1.3;
}

/* ============================================================================
   URL input
   ============================================================================ */

#app-uploader-asset-url-input {
    width      : 80%;
    height     : 30px;
    border     : 1px solid #dcdcde;
    opacity    : 0;
    transition : opacity 0.2s ease;
}

.app-asset-uploader-body:has( #upload-from-url:focus ) #app-uploader-asset-url-input,
#app-uploader-asset-url-input:focus-within,
#app-uploader-asset-url-input.is-active {
    opacity : 1;
}

/* ============================================================================
   Action buttons row
   ============================================================================ */

.app-asset-uploader-buttons-container {
    display   : flex;
    gap       : 10px;
    flex-wrap : wrap;
}

/* ============================================================================
   Multi-file preview strip
   Scrolls horizontally so it never pushes the modal taller.
   ============================================================================ */

.smliser-multi-preview {
    display    : flex;
    flex-wrap  : nowrap;       /* keep thumbs in one row */
    gap        : 10px;
    width      : 80%;
    padding    : 10px;
    border     : 1px solid #dcdcde;
    border-radius : 6px;
    background : #f9f9f9;

    /* Horizontal scroll when thumbs overflow, no vertical growth */
    overflow-x : auto;
    overflow-y : visible;

    /* Thin but visible scrollbar on Webkit */
    scrollbar-width : thin;
    scrollbar-color : #c3c4c7 transparent;
}

.smliser-multi-preview::-webkit-scrollbar {
    height : 5px;
}
.smliser-multi-preview::-webkit-scrollbar-track {
    background : transparent;
}
.smliser-multi-preview::-webkit-scrollbar-thumb {
    background    : #c3c4c7;
    border-radius : 3px;
}

.smliser-multi-preview:empty {
    display : none;
}

/* Individual thumbnail card */
.smliser-multi-preview_thumb {
    position        : relative;
    display         : flex;
    flex-direction  : column;
    align-items     : center;
    gap             : 4px;
    /* Fixed size — never shrink so scrolling kicks in instead */
    flex            : 0 0 90px;
    width           : 90px;
    padding         : 6px;
    background      : #ffffff;
    border          : 1px solid #dcdcde;
    border-radius   : 4px;
    box-shadow      : 0 1px 3px rgba( 0, 0, 0, 0.06 );
    cursor          : pointer;
    transition      : box-shadow 0.15s ease, border-color 0.15s ease;
}

.smliser-multi-preview_thumb:hover {
    border-color : #a0a0a0;
    box-shadow   : 0 2px 6px rgba( 0, 0, 0, 0.12 );
}

/* Active thumb — currently shown in the main preview */
.smliser-multi-preview_thumb.is-active {
    border-color : #2271b1;
    box-shadow   : 0 0 0 2px rgba( 34, 113, 177, 0.25 );
}

.smliser-multi-preview_thumb.is-active .smliser-multi-preview_name {
    color : #2271b1;
    font-weight : 600;
}

.smliser-multi-preview_thumb img {
    width         : 100%;
    height        : 64px;
    object-fit    : cover;
    border-radius : 3px;
    display       : block;
}

/* Filename label */
.smliser-multi-preview_name {
    width         : 100%;
    font-size     : 10px;
    color         : #555555;
    text-align    : center;
    white-space   : nowrap;
    overflow      : hidden;
    text-overflow : ellipsis;
    line-height   : 1.3;
}

/* Remove (✕) button */
.smliser-multi-preview_remove {
    position        : absolute;
    top             : -7px;
    right           : -7px;
    width           : 18px;
    height          : 18px;
    padding         : 0;
    border          : 1px solid #dcdcde;
    border-radius   : 50%;
    background      : #ffffff;
    color           : #666666;
    font-size       : 10px;
    line-height     : 1;
    cursor          : pointer;
    display         : flex;
    align-items     : center;
    justify-content : center;
    transition      : background 0.15s ease, color 0.15s ease, border-color 0.15s ease;
}

.smliser-multi-preview_remove:hover {
    background   : #d63638;
    border-color : #d63638;
    color        : #ffffff;
}

.smliser-multi-preview_remove:focus-visible {
    outline        : 2px solid #2271b1;
    outline-offset : 2px;
}